!function(){"use strict";function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class t{constructor(t,s,r,i,n,o){e(this,"isLiked",(()=>this._likes.find((e=>e._id===this._userId)))),e(this,"deleteCard",(()=>{this._element.remove(),this._element=null})),this._data=t,this._title=t.title,this._link=t.link,this._likes=t.likes,this._id=t._id,this._userId=s,this._cardSelector=r,this._handleLike=n,this._handleDelete=o,this._handleCardClick=i}getId(){return this._id}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".grid__card").cloneNode(!0)}generateCard(){this._element=this._getTemplate(),this._setEventListeners();const e=this._element.querySelector(".card__image"),t=this._element.querySelector(".card__title");return e.style.backgroundImage="url(".concat(this._link,")"),t.textContent=this._title,this._element}_setEventListeners(){this._element.querySelector(".card__like").addEventListener("click",(()=>this._handleLike(this._id))),this._element.querySelector(".card__delete").addEventListener("click",(()=>this.handleDelete(this._id))),this._element.querySelector(".card__image").addEventListener("click",(()=>{this._handleCardClick()}))}getLikes(e){this._likes=e,this._countLikes()}_countLikes(){const e=this._element.querySelector(".card__like");this._element.querySelector(".card__like-counter").textContent=this._likes.length,this.isLiked()&&e.classList.toggle("card__like_active")}}function s(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var r=class{constructor(e,t){s(this,"_showInputError",((e,t)=>{const s=this._element.querySelector(".".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)})),s(this,"_hideInputError",(e=>{const t=this._element.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._inputErrorClass),t.textContent=""})),s(this,"_checkInputValidity",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)})),s(this,"_toggleButtonState",(()=>{this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._inactiveButtonClass),this._buttonElement.disabled=!1)})),this._inputSelector=e.inputSelector,this._fieldsetSelector=e.fieldsetSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._element=t,this._inputList=Array.from(t.querySelectorAll(this._inputSelector)),this._buttonElement=t.querySelector(this._submitButtonSelector)}resetValidationError(){this._inputList.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_setEventListeners(){this._element.addEventListener("submit",(function(e){e.preventDefault()})),this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._element.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}};class i{constructor(e){var t,s;s=e=>{e.target===e.currentTarget&&this.close(e.target)},(t="_handleLayoverClose")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s,this._popupElement=e,this._handleEscClose=this._handleEscClose.bind(this),this._handleLayoverClose=this._handleLayoverClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popupElement.classList.add("popup_enabled"),document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("mousedown",this._handleLayoverClose)}close(){this._popupElement.classList.remove("popup_enabled"),document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("mousedown",this._handleLayoverClose)}setEventListeners(){this._popupElement.addEventListener("click",(e=>{e.target.classList.contains("popup__close")&&this.close()}))}}class n extends i{constructor(e,t){super(e),this._handleFormSubmit=t,this._formElement=this._popupElement.querySelector(".popup__form"),this._inputList=this._formElement.querySelectorAll(".form__input")}_getInputValues(){const e={};return this._inputList.forEach((t=>{const s=t.id,r=t.value;e[s]=r})),e}setEventListeners(){super.setEventListeners(),this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}close(){super.close(),this._formElement.reset()}}document.querySelector(".profile__name"),document.querySelector(".profile__category");const o=document.querySelector(".profile__picture"),l=document.querySelector(".image"),a=(document.getElementById("title"),document.getElementById("link"),document.querySelector(".grid__cards"),document.querySelector(".profile__edit-button")),c=(document.querySelector(".edit__close"),document.querySelector(".edit")),d=(document.getElementById("editForm"),document.querySelector(".avatar")),u=document.querySelector("#edit"),_=document.querySelector("#add"),h=document.querySelector("#avatar"),m=document.querySelector("#delete"),p=document.getElementById("name"),f=document.getElementById("category"),g=document.getElementById("avatar"),y=document.querySelector(".profile__add-button"),E=(document.querySelector(".add__close"),document.querySelector(".add")),v=(document.getElementById("addForm"),document.querySelector(".form__button"),{formSelector:".form",inputSelector:".form__input",fieldsetSelector:".form__fieldset",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"}),b=(e,t)=>fetch(e,t).then((e=>e.ok?e.json():Promise.reject("Something went wrong: ".concat(e.status)))),S=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}getInitialCards(){return b("".concat(this._baseUrl,"/cards"),{headers:this._headers})}renderCard(e){return b("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e.title,link:e.link})})}likeCard(e){return b("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers})}unlikeCard(e){return b("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers})}getUserInfo(){return b("".concat(this._baseUrl,"/users/me"),{headers:this._headers})}editProfile(e){return b("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.description})})}editProfilePic(e){return b("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.picture})})}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"b451294b-44d9-464a-8874-2d4137a4eb3c","Content-Type":"application/json"}});let L;Promise.all([S.getUserInfo(),S.getInitialCards()]).then((e=>{let[t,s]=e;L=t.id,U.setUserInfo(t.name,t.about),U.setUserImage(t.avatar),k.renderItems(s)})).catch((e=>{console.log(e)}));const k=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}addItem(e){const t=this._renderer(e);this._container.prepend(t)}renderItems(e){e.forEach((e=>{this.addItem(e)}))}}({renderer:function(e){const s=new t(e,L,"#card",(()=>{q.open(e.title,e.link)}),(()=>{s.isLiked()?S.unlikeCard(e.getId()).then((t=>{e.getLikes(t.number)})):S.likeCard(e.getId()).then((t=>{e.getLikes(t.number)}))}),(()=>{P.open()}));return s.generateCard()}},".grid__cards");k.renderItems();const C=new n(u,(e=>{S.editProfile(e.name,e.description).then((t=>{U.setUserInfo(t.name,e.description)})).catch((e=>{console.log(e)})).finally((()=>{C.close()}))}));C.setEventListeners();const I=new n(_,(e=>{S.renderCard(e.title,e.link).then((e=>{console.log("res => ",e);const t={name:e.name,link:e.link,likes:e.likes,_id:e._id};k.addItem(t)})).catch((e=>{console.log(e)})).finally((()=>{I.close()}))}));I.setEventListeners();const q=new class extends i{constructor(e){super(e),this._imageTitle=this._popupElement.querySelector(".image__title"),this._imagePreview=this._popupElement.querySelector(".image__file")}open(e,t){super.open(),this._imagePreview.src=t,this._imagePreview.alt=e,this._imageTitle.textContent=e}}(l);q.setEventListeners();const w=new n(h,(e=>{S.editProfilePic(e.picture).then((e=>{U.setUserImage(e.picture)})).catch((e=>{console.log(e)})).finally((()=>{w.close()}))}));w.setEventListeners();const P=new n(m,submitDelete);P.setEventListeners();const U=new class{constructor(e){let{fullName:t,category:s,profilePic:r}=e;this._fullName=document.querySelector(t),this._category=document.querySelector(s),this._profilePic=document.querySelector(r)}getUserInfo(){return{name:this._fullName.textContent,description:this._category.textContent,picture:this._profilePic.src}}setUserInfo(e,t){this._fullName.textContent=e,this._category.textContent=t}setUserImage(e){this._profilePic.src=e}}({fullName:".profile__name",category:".profile__category",profilePic:".profile__picture"});a.addEventListener("click",(function(){const e=U.getUserInfo();p.value=e.name,f.value=e.description,B.resetValidationError(),C.open()})),y.addEventListener("click",(()=>{V.resetValidationError(),I.open()})),o.addEventListener("click",(function(){const e=U.getUserInfo();g.value=e.picture,x.resetValidationError(),w.open()}));const B=new r(v,c),V=new r(v,E),x=new r(v,d);B.enableValidation(),V.enableValidation(),x.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXMiOlsid2VicGFjazovL3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwRm9ybS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3Byb2plY3RfNC8uL3NyYy9zY3JpcHRzL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0XzQvLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1BvcHVwSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdF80Ly4vc3JjL3NjcmlwdHMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgdXNlcklkLCBjYXJkU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlTGlrZSwgaGFuZGxlRGVsZXRlKSB7XHJcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX3RpdGxlID0gZGF0YS50aXRsZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZSA9IGhhbmRsZUxpa2U7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGUgPSBoYW5kbGVEZWxldGU7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBnZXRJZCgpe1xyXG4gICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmdyaWRfX2NhcmRcIik7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZW1wbGF0ZS5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIGNvbnN0IGNhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuXHJcbiAgICBjYXJkSW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3RoaXMuX2xpbmt9KWA7XHJcbiAgICBjYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIC8vbGlrZSBoYW5kbGVyXHJcbiAgICBjb25zdCBjYXJkTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlXCIpO1xyXG4gICAgY2FyZExpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZUxpa2UodGhpcy5faWQpKTtcclxuXHJcblxyXG4gICAgLy9kZWxldGUgaGFuZGxlclxyXG4gICAgY29uc3QgY2FyZERlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGVcIik7XHJcbiAgICBjYXJkRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAgKCkgPT4gdGhpcy5oYW5kbGVEZWxldGUodGhpcy5faWQpKTtcclxuXHJcbiAgICAvL2ltYWdlIGNsaWNrIGhhbmRsZXJcclxuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaXNMaWtlZCA9ICgpID0+IHtcclxuICAgIHJldHVybiB0aGlzLl9saWtlcy5maW5kKHVzZXIgPT4gdXNlci5faWQgPT09IHRoaXMuX3VzZXJJZCk7XHJcbiAgfVxyXG5cclxuICBnZXRMaWtlcyhudW1iZXIpe1xyXG4gICAgdGhpcy5fbGlrZXMgPSBudW1iZXI7XHJcbiAgICB0aGlzLl9jb3VudExpa2VzKCk7XHJcbiAgfVxyXG5cclxuICBfY291bnRMaWtlcygpe1xyXG4gICAgY29uc3QgY2FyZExpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZVwiKTtcclxuICAgIGNvbnN0IGNhcmRMaWtlQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50ZXJcIik7XHJcbiAgICBjYXJkTGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcblxyXG4gICAgaWYodGhpcy5pc0xpa2VkKCkpe1xyXG4gICAgICBjYXJkTGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZV9hY3RpdmVcIik7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgLy9faGFuZGxlQ2FyZENsaWNrID0gKCkgPT4ge1xyXG4gICAvLyB0aGlzLlBvcHVwSW1hZ2VcclxuIC8vIH1cclxuXHJcbiAgLy9fcHJlc3NMaWtlID0gKGV2dCkgPT4ge1xyXG4gICAgLy9ldnQudGFyZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlX2FjdGl2ZVwiKTtcclxuICAvL307XHJcblxyXG4gIGRlbGV0ZUNhcmQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfTtcclxufSIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2ZpZWxkc2V0U2VsZWN0b3IgPSBjb25maWcuZmllbGRzZXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9O1xyXG5cclxuICByZXNldFZhbGlkYXRpb25FcnJvcigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7IiwiZXhwb3J0IGNsYXNzIFBvcHVwe1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwRWxlbWVudCl7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBwb3B1cEVsZW1lbnQ7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVMYXlvdmVyQ2xvc2UgPSB0aGlzLl9oYW5kbGVMYXlvdmVyQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxheW92ZXJDbG9zZSA9IChldnQpID0+IHtcclxuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xyXG4gICAgICB0aGlzLmNsb3NlKGV2dC50YXJnZXQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX2VuYWJsZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVMYXlvdmVyQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX2VuYWJsZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVMYXlvdmVyQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSk7XHJcblxyXG5cclxufVxyXG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cEVsZW1lbnQsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwRWxlbWVudCk7XHJcblxyXG5cclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dHMgPSB7fTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgY29uc3Qga2V5ID0gaW5wdXQuaWQ7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gaW5wdXQudmFsdWU7XHJcbiAgICAgIGlucHV0c1trZXldID0gdmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dHM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKVxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKVxyXG59XHJcblxyXG59IiwiLy9pbml0aWFsIGltYWdlc1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICAgIHtcclxuICAgICAgdGl0bGU6IFwiWW9zZW1pdGUgVmFsbGV5XCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUveW9zZW1pdGUuanBnXCIsXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICB0aXRsZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gICAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiBcIkxhdGVtYXJcIixcclxuICAgICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYXRlbWFyLmpwZ1wiLFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgdGl0bGU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIixcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHRpdGxlOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFnby5qcGdcIixcclxuICAgIH0sXHJcbiAgXTtcclxuICBcclxuLy9wcm9maWxlIGNvbnN0c1xyXG5cclxuZXhwb3J0IGNvbnN0IGZ1bGxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xyXG5leHBvcnQgY29uc3QgY2F0ZWdvcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2NhdGVnb3J5XCIpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZVBpYyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcGljdHVyZVwiKTtcclxuXHJcbi8vaW1hZ2UgY29uc3RzXHJcbmV4cG9ydCBjb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbWFnZVwiKTtcclxuZXhwb3J0IGNvbnN0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpO1xyXG5leHBvcnQgY29uc3QgbGlua0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsaW5rXCIpO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkR3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZF9fY2FyZHNcIik7XHJcblxyXG4vL3Byb2ZpbGUgZm9ybSBjb25zdHNcclxuXHJcbmV4cG9ydCBjb25zdCBidXR0b25FZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGNsb3NlRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdF9fY2xvc2VcIik7XHJcbmV4cG9ydCBjb25zdCBmb3JtRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWRpdFwiKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRGb3JtRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdEZvcm1cIik7XHJcblxyXG4vL2F2YXRhciBmb3JtIGNvbnN0c1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvcm1BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmF2YXRhclwiKTtcclxuXHJcbi8vZGVsZXRlIGZvcm0gY29uc3RzXHJcblxyXG5cclxuXHJcbi8vcG9wdXAgZm9ybSBjb25zdHNcclxuXHJcbmV4cG9ydCBjb25zdCBlZGl0UG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VkaXQnKTtcclxuZXhwb3J0IGNvbnN0IGFkZFBvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQnKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhclBvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZWxldGUnKTtcclxuXHJcbi8vaW5wdXRzXHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2F0ZWdvcnlcIik7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXZhdGFyXCIpO1xyXG5cclxuLy8gaW1hZ2UgZm9ybSBjb25zdHNcclxuZXhwb3J0IGNvbnN0IGJ1dHRvbkFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGNsb3NlQWRkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGRfX2Nsb3NlXCIpO1xyXG5leHBvcnQgY29uc3QgZm9ybUFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZEZvcm1cIik7XHJcbmV4cG9ydCBjb25zdCBidXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19idXR0b25cIik7XHJcblxyXG4vL3ZhbGlkYXRpb24gY29uc3RzXHJcblxyXG5leHBvcnQgY29uc3QgZm9ybUNvbmZpZyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gICAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICAgIGZpZWxkc2V0U2VsZWN0b3I6IFwiLmZvcm1fX2ZpZWxkc2V0XCIsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uXCIsXHJcbiAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX2J1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwiZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXHJcbiAgfTsiLCJjb25zdCBmZXRjaGVyID0gKHVybCwgaGVhZGVyKSA9PiBcclxuICAgIGZldGNoKHVybCwgaGVhZGVyKS50aGVuKChyZXMpID0+XHJcbiAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoYFNvbWV0aGluZyB3ZW50IHdyb25nOiAke3Jlcy5zdGF0dXN9YClcclxuICAgICAgKTsgXHJcblxyXG4gIGV4cG9ydCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3Ioe2Jhc2VVcmwsIGhlYWRlcnN9KXtcclxuICAgICAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcclxuICAgICAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICAgIH07XHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKXtcclxuICAgICAgICByZXR1cm4gZmV0Y2hlcihgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICByZW5kZXJDYXJkKGRhdGEpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaGVyIChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS50aXRsZSxcclxuICAgICAgICAgICAgICAgIGxpbms6IGRhdGEubGlua1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbGlrZUNhcmQoaWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2hlcihgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2lkfWAsIHtcclxuICAgICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIFxyXG4gICAgICB1bmxpa2VDYXJkKGlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoZXIoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtpZH1gLCB7XHJcbiAgICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICBcclxuICAgIGdldFVzZXJJbmZvKCl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoZXIoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGVkaXRQcm9maWxlKGRhdGEpe1xyXG4gICAgICAgIHJldHVybiBmZXRjaGVyIChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICAgICAgICAgIGFib3V0OiBkYXRhLmRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG4gICAgZWRpdFByb2ZpbGVQaWMoZGF0YSl7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoZXIgKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgICAgIGF2YXRhcjogZGF0YS5waWN0dXJlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vc2NyaXB0cy9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwRm9ybSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvUG9wdXBGb3JtLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBQb3B1cEltYWdlIH0gZnJvbSBcIi4uL3NjcmlwdHMvY29tcG9uZW50cy9Qb3B1cEltYWdlLmpzXCI7XHJcblxyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuXHJcblxyXG5pbXBvcnQge1xyXG4gIGZvcm1Db25maWcsXHJcbiAgZm9ybUFkZCxcclxuICBmb3JtRWRpdCxcclxuICBmb3JtQXZhdGFyLFxyXG4gIGFkZFBvcHVwRWxlbWVudCxcclxuICBlZGl0UG9wdXBFbGVtZW50LFxyXG4gIGF2YXRhclBvcHVwRWxlbWVudCxcclxuICBkZWxldGVQb3B1cEVsZW1lbnQsXHJcbiAgYnV0dG9uQWRkLFxyXG4gIGJ1dHRvbkVkaXQsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGpvYklucHV0LFxyXG4gIHBvcHVwSW1hZ2UsXHJcbiAgYXZhdGFySW5wdXQsXHJcbiAgcHJvZmlsZVBpYyxcclxufSBmcm9tIFwiLi4vc2NyaXB0cy91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmltcG9ydCB7IEFwaSB9IGZyb20gXCIuLi9zY3JpcHRzL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG4vL2luaXRpYWxpemluZyBhcGlcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMy1lblwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiYjQ1MTI5NGItNDRkOS00NjRhLTg4NzQtMmQ0MTM3YTRlYjNjXCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gIH1cclxufSk7XHJcblxyXG5sZXQgdXNlcklkO1xyXG5cclxuLy9nZXR0aW5nIGluaXRpYWwgY2FyZHMgYW5kIHByb2ZpbGUgaW5mb1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIC50aGVuKChbdXNlckRhdGEsIGNhcmREYXRhXSkgPT4ge1xyXG4gICAgdXNlcklkID0gdXNlckRhdGEuaWQ7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW1hZ2UodXNlckRhdGEuYXZhdGFyKTtcclxuXHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtcyhjYXJkRGF0YSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge2NvbnNvbGUubG9nKGVycil9KVxyXG5cclxuLy9zdWJtaXR0aW5nIGNhcmRcclxuXHJcbmNvbnN0IHN1Ym1pdENhcmQgPSAoZGF0YSkgPT4ge1xyXG4gIGFwaS5yZW5kZXJDYXJkKGRhdGEudGl0bGUsIGRhdGEubGluaylcclxuICAudGhlbigocmVzKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygncmVzID0+ICcsIHJlcylcclxuICAgIGNvbnN0IG5ld0ltYWdlID0ge1xyXG4gICAgICBuYW1lOiByZXMubmFtZSxcclxuICAgICAgbGluazogcmVzLmxpbmssXHJcbiAgICAgIGxpa2VzOiByZXMubGlrZXMsXHJcbiAgICAgIF9pZDogcmVzLl9pZFxyXG4gICAgfTtcclxuICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3SW1hZ2UpO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHsgY29uc29sZS5sb2coZXJyKX0pXHJcbiAgLmZpbmFsbHkoICgpID0+IHsgY2FyZEZvcm0uY2xvc2UoKTt9KVxyXG5cclxuXHJcbn1cclxuXHJcbi8vc3VibWl0dGluZyBwcm9maWxlXHJcblxyXG5jb25zdCBzdWJtaXRQcm9maWxlID0gKGRhdGEpID0+IHtcclxuICBhcGkuZWRpdFByb2ZpbGUoZGF0YS5uYW1lLCBkYXRhLmRlc2NyaXB0aW9uKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCBkYXRhLmRlc2NyaXB0aW9uKVxyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHsgY29uc29sZS5sb2coZXJyKX0pXHJcbiAgLmZpbmFsbHkoICgpID0+IHtcclxuICAgIHByb2ZpbGVGb3JtLmNsb3NlKCk7XHJcbiAgfSlcclxufVxyXG5cclxuLy9zdWJtaXR0aW5nIHByb2ZpbGUgcGljXHJcblxyXG5jb25zdCBzdWJtaXRBdmF0YXIgPSAoZGF0YSkgPT4ge1xyXG4gIGFwaS5lZGl0UHJvZmlsZVBpYyhkYXRhLnBpY3R1cmUpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckltYWdlKHJlcy5waWN0dXJlKVxyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHsgY29uc29sZS5sb2coZXJyKX0pXHJcbiAgLmZpbmFsbHkoICgpID0+IHsgYXZhdGFyRm9ybS5jbG9zZSgpfSlcclxuXHJcbn1cclxuXHJcbi8vZGlzcGxheWluZyBjYXJkcyBpbiBnYWxsZXJ5XHJcblxyXG5jb25zdCBjYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIC8vaXRlbXM6IGluaXRpYWxDYXJkcyxcclxuICAgIHJlbmRlcmVyOiByZW5kZXJDYXJkLFxyXG4gIH0sXHJcbiAgXCIuZ3JpZF9fY2FyZHNcIlxyXG4pO1xyXG5cclxuY2FyZExpc3QucmVuZGVySXRlbXMoKTtcclxuXHJcbi8vdXNlciBpbmZvIHNlY3Rpb25cclxuXHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IFBvcHVwRm9ybShlZGl0UG9wdXBFbGVtZW50LCBzdWJtaXRQcm9maWxlKVxyXG5wcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy9jYXJkIHNlY3Rpb25cclxuXHJcbmNvbnN0IGNhcmRGb3JtID0gbmV3IFBvcHVwRm9ybShhZGRQb3B1cEVsZW1lbnQsIHN1Ym1pdENhcmQpXHJcbmNhcmRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL2ltYWdlIHNlY3Rpb25cclxuXHJcbmNvbnN0IGltYWdlTW9kdWxlID0gbmV3IFBvcHVwSW1hZ2UocG9wdXBJbWFnZSk7XHJcbmltYWdlTW9kdWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vL2F2YXRhciBzZWN0aW9uXHJcblxyXG5jb25zdCBhdmF0YXJGb3JtID0gbmV3IFBvcHVwRm9ybShhdmF0YXJQb3B1cEVsZW1lbnQsIHN1Ym1pdEF2YXRhcik7XHJcbmF2YXRhckZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vZGVsZXRlIHNlY3Rpb25cclxuXHJcbmNvbnN0IGRlbGV0ZUZvcm0gPSBuZXcgUG9wdXBGb3JtKGRlbGV0ZVBvcHVwRWxlbWVudCwgc3VibWl0RGVsZXRlKTtcclxuZGVsZXRlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbi8vYWRkaW5nIGNhcmQgdG8gZ2FsbGVyeVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyQ2FyZChjYXJkKSB7XHJcbiAgY29uc3QgaW1hZ2UgPSBuZXcgQ2FyZChjYXJkLCBcclxuICAgIHVzZXJJZCxcclxuICAgIFwiI2NhcmRcIixcclxuICAgICAoKSA9PiB7XHJcbiAgICBpbWFnZU1vZHVsZS5vcGVuKGNhcmQudGl0bGUsIGNhcmQubGluayk7IC8vaGFuZGxlQ2FyZENsaWNrXHJcbiAgfSxcclxuICAoKSA9PiB7XHJcbiAgICBpZiAoaW1hZ2UuaXNMaWtlZCgpKXtcclxuICAgICAgYXBpLnVubGlrZUNhcmQoY2FyZC5nZXRJZCgpKVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGNhcmQuZ2V0TGlrZXMocmVzLm51bWJlcilcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBhcGkubGlrZUNhcmQoY2FyZC5nZXRJZCgpKVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGNhcmQuZ2V0TGlrZXMocmVzLm51bWJlcilcclxuICAgIH0pXHJcbiAgfVxyXG59LCAoKSA9PiB7XHJcbmRlbGV0ZUZvcm0ub3BlbigpO1xyXG59XHJcbiAgKTtcclxuICByZXR1cm4gaW1hZ2UuZ2VuZXJhdGVDYXJkKCk7XHJcbn1cclxuXHJcblxyXG4vL2dldHRpbmcgdGhlIGN1cnJlbnQgdXNlciBpbmZvXHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgZnVsbE5hbWU6IFwiLnByb2ZpbGVfX25hbWVcIixcclxuICBjYXRlZ29yeTogXCIucHJvZmlsZV9fY2F0ZWdvcnlcIixcclxuICBwcm9maWxlUGljOiBcIi5wcm9maWxlX19waWN0dXJlXCJcclxufSk7XHJcblxyXG5mdW5jdGlvbiByZW5kZXJQcm9maWxlKCl7XHJcbiAgY29uc3QgcHJvZmlsZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcblxyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGUubmFtZVxyXG4gIGpvYklucHV0LnZhbHVlID0gcHJvZmlsZS5kZXNjcmlwdGlvbjtcclxuICBcclxuICBlZGl0Rm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb25FcnJvcigpO1xyXG4gIHByb2ZpbGVGb3JtLm9wZW4oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyQXZhdGFyKCl7XHJcbiAgY29uc3QgcHJvZmlsZSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgYXZhdGFySW5wdXQudmFsdWUgPSBwcm9maWxlLnBpY3R1cmU7XHJcblxyXG4gIGF2YXRhckZvcm1WYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uRXJyb3IoKTtcclxuICBhdmF0YXJGb3JtLm9wZW4oKTtcclxufVxyXG5cclxuXHJcbi8vaGFuZGxlcnNcclxuXHJcbmJ1dHRvbkVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJlbmRlclByb2ZpbGUpO1xyXG5cclxuYnV0dG9uQWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb25FcnJvcigpO1xyXG4gIGNhcmRGb3JtLm9wZW4oKTtcclxufSk7XHJcblxyXG5wcm9maWxlUGljLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZW5kZXJBdmF0YXIpXHJcblxyXG5cclxuLy92YWxpZGF0b3Igc2V0dGluZ3NcclxuXHJcbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZywgZm9ybUVkaXQpO1xyXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZywgZm9ybUFkZCk7XHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBmb3JtQXZhdGFyKTtcclxuXHJcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpOyIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7ICByZW5kZXJlciB9LCAgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIC8vdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8vIGluc2VydHMgZWxlbWVudCB0byB0aGUgY29udGFpbmVyXHJcbiAgYWRkSXRlbShkYXRhKSB7XHJcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoZGF0YSlcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpXHJcbiAgfTtcclxuXHJcbiAgLy8gcmVuZGVycyBpbml0aWFsIGl0ZW1zXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGRhdGEpID0+IHtcclxuICAgICAgdGhpcy5hZGRJdGVtKGRhdGEpXHJcbiAgICB9KVxyXG4gIH07XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBJbWFnZSBleHRlbmRzIFBvcHVwe1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBFbGVtZW50KXtcclxuICAgICAgICBzdXBlcihwb3B1cEVsZW1lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbWFnZVRpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW1hZ2VfX3RpdGxlXCIpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlUHJldmlldyA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmltYWdlX19maWxlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4odGl0bGUsIGxpbmspe1xyXG4gICAgXHJcbiAgICAgICAgc3VwZXIub3BlbigpXHJcbiAgICB0aGlzLl9pbWFnZVByZXZpZXcuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlUHJldmlldy5hbHQgPSB0aXRsZTtcclxuICAgIHRoaXMuX2ltYWdlVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuXHJcbiBcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih7IGZ1bGxOYW1lLCBjYXRlZ29yeSwgcHJvZmlsZVBpYyB9KSB7XHJcbiAgICAgIHRoaXMuX2Z1bGxOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihmdWxsTmFtZSk7XHJcbiAgICAgIHRoaXMuX2NhdGVnb3J5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXRlZ29yeSk7XHJcbiAgICAgIHRoaXMuX3Byb2ZpbGVQaWMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVQaWMpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZTogdGhpcy5fZnVsbE5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuX2NhdGVnb3J5LnRleHRDb250ZW50LFxyXG4gICAgICAgIHBpY3R1cmU6IHRoaXMuX3Byb2ZpbGVQaWMuc3JjXHJcbiAgICAgIH1cclxuICAgIH1cclxuICBcclxuICAgIHNldFVzZXJJbmZvKCBuYW1lLCBkZXNjcmlwdGlvbiApIHtcclxuICAgICAgdGhpcy5fZnVsbE5hbWUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgICB0aGlzLl9jYXRlZ29yeS50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFVzZXJJbWFnZShwaWN0dXJlKXtcclxuICAgICAgdGhpcy5fcHJvZmlsZVBpYy5zcmMgPSBwaWN0dXJlO1xyXG4gICAgfVxyXG5cclxuICB9XHJcbiAgIl0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ1c2VySWQiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVMaWtlIiwiaGFuZGxlRGVsZXRlIiwidGhpcyIsIl9saWtlcyIsImZpbmQiLCJ1c2VyIiwiX2lkIiwiX3VzZXJJZCIsIl9lbGVtZW50IiwicmVtb3ZlIiwiX2RhdGEiLCJfdGl0bGUiLCJ0aXRsZSIsIl9saW5rIiwibGluayIsImxpa2VzIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVMaWtlIiwiX2hhbmRsZURlbGV0ZSIsIl9oYW5kbGVDYXJkQ2xpY2siLCJnZXRJZCIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJjYXJkSW1hZ2UiLCJjYXJkVGl0bGUiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsInRleHRDb250ZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldExpa2VzIiwibnVtYmVyIiwiX2NvdW50TGlrZXMiLCJjYXJkTGlrZSIsImxlbmd0aCIsImlzTGlrZWQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJjb25maWciLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImlkIiwiYWRkIiwiX2lucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dExpc3QiLCJfYnV0dG9uRWxlbWVudCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfZmllbGRzZXRTZWxlY3RvciIsImZpZWxkc2V0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInJlc2V0VmFsaWRhdGlvbkVycm9yIiwiZm9yRWFjaCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInNvbWUiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJlbmFibGVWYWxpZGF0aW9uIiwiUG9wdXAiLCJwb3B1cEVsZW1lbnQiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiY2xvc2UiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIl9oYW5kbGVMYXlvdmVyQ2xvc2UiLCJrZXkiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwiY29udGFpbnMiLCJQb3B1cEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtRWxlbWVudCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0cyIsImlucHV0IiwidmFsdWUiLCJlIiwic2V0SW5wdXRWYWx1ZXMiLCJfaW5wdXRzIiwibmFtZSIsInJlc2V0IiwicHJvZmlsZVBpYyIsInBvcHVwSW1hZ2UiLCJidXR0b25FZGl0IiwiZ2V0RWxlbWVudEJ5SWQiLCJmb3JtRWRpdCIsImZvcm1BdmF0YXIiLCJlZGl0UG9wdXBFbGVtZW50IiwiYWRkUG9wdXBFbGVtZW50IiwiYXZhdGFyUG9wdXBFbGVtZW50IiwiZGVsZXRlUG9wdXBFbGVtZW50IiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJhdmF0YXJJbnB1dCIsImJ1dHRvbkFkZCIsImZvcm1BZGQiLCJmb3JtQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiZmV0Y2hlciIsInVybCIsImhlYWRlciIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRJbml0aWFsQ2FyZHMiLCJyZW5kZXJDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsaWtlQ2FyZCIsInVubGlrZUNhcmQiLCJnZXRVc2VySW5mbyIsImVkaXRQcm9maWxlIiwiYWJvdXQiLCJkZXNjcmlwdGlvbiIsImVkaXRQcm9maWxlUGljIiwiYXZhdGFyIiwicGljdHVyZSIsImF1dGhvcml6YXRpb24iLCJhbGwiLCJ1c2VyRGF0YSIsImNhcmREYXRhIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsInNldFVzZXJJbWFnZSIsImNhcmRMaXN0IiwicmVuZGVySXRlbXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIml0ZW1zIiwiY2FyZCIsImltYWdlIiwiaW1hZ2VNb2R1bGUiLCJkZWxldGVGb3JtIiwicHJvZmlsZUZvcm0iLCJmaW5hbGx5IiwiY2FyZEZvcm0iLCJuZXdJbWFnZSIsIl9pbWFnZVRpdGxlIiwiX2ltYWdlUHJldmlldyIsInNyYyIsImFsdCIsImF2YXRhckZvcm0iLCJzdWJtaXREZWxldGUiLCJmdWxsTmFtZSIsImNhdGVnb3J5IiwiX2Z1bGxOYW1lIiwiX2NhdGVnb3J5IiwiX3Byb2ZpbGVQaWMiLCJwcm9maWxlIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwiYXZhdGFyRm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiXSwic291cmNlUm9vdCI6IiJ9